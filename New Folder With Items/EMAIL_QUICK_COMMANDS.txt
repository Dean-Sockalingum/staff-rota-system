â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              STAFF ROTA - EMAIL QUICK COMMAND REFERENCE               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“§ SETUP & CONFIGURATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Configure email (interactive)
  â†’ ./setup_email.sh

View current settings
  â†’ ./setup_email.sh
     Choose option 6

Test configuration
  â†’ ./setup_email.sh
     Choose option 5

Switch to Gmail
  â†’ ./setup_email.sh â†’ Option 1 â†’ Enter credentials â†’ source ~/.zshrc

Switch to Office 365
  â†’ ./setup_email.sh â†’ Option 2 â†’ Enter credentials â†’ source ~/.zshrc

Switch to testing mode
  â†’ ./setup_email.sh â†’ Option 4 â†’ source ~/.zshrc

Check if production is active
  â†’ echo $EMAIL_HOST
     (Empty = Testing mode, Has value = Production mode)


ğŸ“¨ SENDING EMAILS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Preview email (dry run - safe)
  â†’ ./send_leave_emails.sh test

Send to specific person
  â†’ ./send_leave_emails.sh specific ADMIN001

Send monthly reminders (5+ days)
  â†’ ./send_leave_emails.sh monthly

Send quarterly reminders (1+ days)
  â†’ ./send_leave_emails.sh quarterly

Send urgent year-end (all staff)
  â†’ ./send_leave_emails.sh urgent


ğŸ¤– AUTOMATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Install automated scheduling
  â†’ ./install_scheduled_tasks.sh

View installed cron jobs
  â†’ crontab -l

Remove all cron jobs (careful!)
  â†’ crontab -r

View automation logs
  â†’ tail -f /var/log/rotasystem/leave_reminders.log


ğŸ” TROUBLESHOOTING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Environment not loading
  â†’ source ~/.zshrc

Check what's in shell config
  â†’ grep EMAIL ~/.zshrc

Test email connection
  â†’ telnet smtp.gmail.com 587
     (Press Ctrl+] then type 'quit')

Django email status check
  â†’ python3 -c "
import os, django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'rotasystems.settings')
django.setup()
from django.conf import settings
print('Backend:', settings.EMAIL_BACKEND)
print('Host:', getattr(settings, 'EMAIL_HOST', 'Not set'))
"


ğŸ“– DOCUMENTATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PRODUCTION_EMAIL_STATUS.md    â†’ Current status & quick start
EMAIL_SETUP_PRODUCTION.md     â†’ Complete setup guide
LEAVE_EMAILS_QUICK_START.md   â†’ Email command reference
LEAVE_REMINDER_EMAILS.md      â†’ Full feature documentation


ğŸ¯ COMMON WORKFLOWS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FIRST TIME SETUP
  1. ./setup_email.sh
  2. Choose option 1 (Gmail) or 2 (Office 365)
  3. Enter your credentials
  4. source ~/.zshrc
  5. ./send_leave_emails.sh test
  6. ./send_leave_emails.sh specific ADMIN001

TEST BEFORE PRODUCTION
  1. ./send_leave_emails.sh test
  2. Review email preview
  3. ./send_leave_emails.sh specific ADMIN001
  4. Check inbox

GO LIVE
  1. ./setup_email.sh â†’ Configure provider
  2. source ~/.zshrc
  3. ./send_leave_emails.sh test
  4. ./install_scheduled_tasks.sh
  5. crontab -l (verify)
  6. tail -f /var/log/rotasystem/leave_reminders.log (monitor)


âœ… QUICK STATUS CHECK
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
echo $EMAIL_HOST
  â†’ Empty = Testing mode (safe - no emails sent)
  â†’ Has value = Production mode (real emails)

Current files:
  setup_email.sh              â†’ Configuration wizard
  send_leave_emails.sh        â†’ Email sending wrapper
  install_scheduled_tasks.sh  â†’ Automation installer
  EMAIL_SETUP_PRODUCTION.md   â†’ Setup guide
  PRODUCTION_EMAIL_STATUS.md  â†’ Status summary


ğŸ” SECURITY CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ Use App Passwords for Gmail (not regular password)
âœ“ Credentials in environment variables (not in code)
âœ“ Test with personal email first
âœ“ Never commit .zshrc to git
âœ“ Monitor logs for errors


â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
